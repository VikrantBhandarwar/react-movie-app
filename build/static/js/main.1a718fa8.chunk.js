(this["webpackJsonpmoviedb-react-client"]=this["webpackJsonpmoviedb-react-client"]||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/abstract_movie_poster.bca418f3.svg"},140:function(e,t,a){e.exports=a(201)},145:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=(a(145),a(37)),s=a(14),l=a(24),m=a(254),u=a(255),d=a(91),p=a.n(d),v=a(73),g=a.n(v),h=function(){var e=0;return function(){return e++}}();function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Array.isArray(e)?e.forEach((function(e){return E(e,t,a)})):"string"===typeof e?a({type:e,payload:t}):"function"===typeof e?e(a,t):void console.error("'action' prop must be a string or function, but got: "+typeof e)}function f(){return{id:"TASK-"+h(),isCancelled:!1,isDone:!1,_handlers:{cancel:[],done:[]},cancel:function(){var e=this;Object.isFrozen(this)||(this.isCancelled=!0,this._handlers.cancel.forEach((function(t){return t&&t(e)})))},done:function(){var e=this;this.isDone=!0,this._handlers.done.forEach((function(t){return t&&t(e)})),Object.freeze(this)},subscribe:function(e,t){this._handlers[e].push(t)},unsubscribe:function(e,t){this._handlers[e]=this._handlers[e].filter((function(e){return e!==t}))}}}f.events={DONE:"done",CANCEL:"cancel"};var b="e0d3d49d19ce926b6842e10c9d97ba31",y="MOVIEDB_MIDDLEWARE",O="MovieDB Api Middleware";function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return g()({baseURL:"https://api.themoviedb.org/3/",url:e,method:"get",cancelToken:a.token,params:Object.assign({},{api_key:b,language:"en-US"},t),timeout:15e3})}var N="GENRES_FETCH_REQUEST",_="GENRES_FETCH_SUCCESS",S="GENRES_FETCH_FAIL",I="ADD_ERROR",C="REMOVE_ERROR";var x=a(74);var F=a(238),R=[];var w=Object(x.withSnackbar)(Object(s.c)((function(e){return{errors:e.ui.errors}}),(function(e){return{removeError:function(t){return e({type:C,payload:{error:t}})}}}))((function(e){var t=e.enqueueSnackbar,a=e.closeSnackbar,i=e.removeError,o=e.errors,c=void 0===o?[]:o;return Object(n.useEffect)((function(){c.forEach((function(e){R.includes(e.id)||(t(e.message,{key:e.id,variant:"error",action:function(e){return r.a.createElement(F.a,{onClick:function(){return a(e)}},"OK")},onExited:function(t,a,n){R.splice(R.indexOf(e.id),1),i(e)}}),R.push(e.id))}))}),[c,a,t,i]),null}))),j=a(6),A=a(244),k=a(257),T=a(243),D=a(36),L=a.n(D),U=a(70),P=a(62),V=a(22),H={UNKNOWN:"#999",BAD:"#d63737",OK:"#a7a7a7",GOOD:"#5fbb67",EXCELLENT:"#3bb33b"};function G(e){var t=H.EXCELLENT;return e&&0!==e?e<5.5?t=H.BAD:e<6.5?t=H.OK:e<7.25&&(t=H.GOOD):t=H.UNKNOWN,t}var B=a(42),q=a.n(B),z=a(129),W=a.n(z),Z=a(59),Q=a.n(Z),J=Object(U.a)((function(e){return{root:{position:"relative",boxShadow:"none",textDecoration:"none",color:"inherit","&:hover":{"& $posterImage":{transform:"scale(1.075)"},"& $posterOverlay":{opacity:1},"& $favoriteBtn":{display:"flex"}}},posterContainer:{position:"relative",overflow:"hidden"},posterImage:{position:"relative",display:"block",width:"100%",minHeight:250,borderRadius:"4px",backgroundColor:"#e8e8e8",transition:"all 0.15s ease-in-out"},posterOverlay:{position:"absolute",content:'""',width:"100%",height:"100%",left:0,top:0,opacity:0,transition:"all 0.15s ease-in-out",background:"linear-gradient(180deg, rgba(255,255,255,0) 41%, rgba(0,0,0,0.40) 100%)"},details:{padding:"6px 4px"},movieName:{fontWeight:"normal",margin:"4px 0 8px 0",lineHeight:"140%"},score:Object(j.a)({display:"inline-flex",position:"absolute",left:-5,top:8,justifyContent:"center",fontWeight:"bold",padding:"2px 8px",minWidth:30,color:"white",background:"#83d620",borderRadius:2},e.breakpoints.down("xs"),{left:-8,top:12,fontSize:"1.5rem",minWidth:40}),extraInfo:{color:"grey",lineHeight:"150%"},favoriteBtn:Object(j.a)({display:"none",position:"absolute",right:10,top:10,minWidth:16,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:"white",background:"rgba(75, 87, 95, 0.9)","&:hover":{background:"rgba(245, 0, 87, 1)"}},e.breakpoints.down("xs"),{display:"flex",padding:e.spacing(2.5),"& svg":{height:e.spacing(4),width:e.spacing(4)}}),favoriteBtnActive:{display:"flex",color:"white",background:"rgba(245, 0, 87, 1)","&:hover":{background:"rgba(245, 0, 87, 0.85)"}}}}));var K=function(e){var t=e.id,a=e.title,n=e.genres,i=e.voteAverage,o=e.releaseDate,c=e.posterImageUrl,s=e.isFavorite,l=e.onFavorite,m=J(),u=G(i),d=i>0?i:"-";return r.a.createElement(V.a,{className:m.root,to:"/movie/"+t},r.a.createElement("div",{className:m.posterContainer},r.a.createElement("img",{className:m.posterImage,src:c,alt:a}),r.a.createElement("div",{className:m.posterOverlay}),r.a.createElement(F.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(e){e.stopPropagation(),e.preventDefault(),l&&l(t)},className:Q()([m.favoriteBtn,Object(j.a)({},m.favoriteBtnActive,s)])},s?r.a.createElement(q.a,null):r.a.createElement(W.a,null))),r.a.createElement("div",{className:m.details},r.a.createElement(P.a,{component:"h4",className:m.movieName},a),r.a.createElement(P.a,{variant:"body1",className:m.score,style:{backgroundColor:u}},d),r.a.createElement(P.a,{variant:"body1",className:m.extraInfo},new Date(o).getFullYear()," \u2022 ",n.length?n.slice(0,3).join(", "):"-")))},Y=a(241),X=a(2),$=a.n(X),ee=($.a.shape({id:$.a.oneOfType([$.a.string,$.a.number]).isRequired,title:$.a.string.isRequired,overview:$.a.string.isRequired,genres:$.a.arrayOf($.a.string).isRequired,releaseDate:$.a.instanceOf(Date).isRequired,voteAverage:$.a.number.isRequired,posterImageUrl:$.a.string,backdropImageUrl:$.a.string,duration:$.a.number,budget:$.a.number,backdropImage:$.a.string,posterImage:$.a.string,productionCountries:$.a.arrayOf($.a.string),legend:$.a.string,actors:$.a.arrayOf($.a.exact({id:$.a.oneOfType([$.a.string,$.a.number]),name:$.a.string,character:$.a.string,gender:$.a.number,photo:$.a.string})),crew:$.a.arrayOf($.a.exact({id:$.a.oneOfType([$.a.number,$.a.string]),name:$.a.string,department:$.a.string,job:$.a.string,gender:$.a.number,photo:$.a.string})),isExtendedDataLoaded:$.a.bool}),a(242)),te=a(256),ae=a(239);function ne(){return r.a.createElement(te.a,null,r.a.createElement(ae.a,{variant:"rect",width:"100%",height:270}),r.a.createElement(ae.a,{variant:"rect",style:{marginTop:15},width:"100%"}),r.a.createElement(ae.a,{variant:"rect",style:{marginTop:8},width:"70%"}))}var re=a(240),ie=Object(U.a)((function(e){return{item:Object(j.a)({cursor:"pointer",padding:e.spacing(1),transition:"all 0.1s cubic-bezier(0.43, 0.57, 0, 0.99)",transitionDelay:"0.075s","&:hover":{background:"white",zIndex:2}},e.breakpoints.down("sm"),{padding:"15px 25px !important"})}}));function oe(e){var t=e.children,a=ie();return r.a.createElement(re.a,{className:a.item,item:!0,xs:12,sm:4,md:2},t)}var ce=function(e){var t=e.children;return r.a.createElement(re.a,{container:!0,justify:"flex-start",wrap:"wrap",spacing:2},t)},se=Object(U.a)((function(e){return{loader:{height:400,width:300,margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},button:{marginTop:20},buttonProgress:{color:e.palette.primary,animationDuration:"550ms",marginRight:6}}}));var le=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.isFetching,i=e.isFetched,o=e.totalMovies,c=e.placeholdersAmount,s=void 0===c?5:c,l=e.onLoadMore,m=e.onFavorite,u=se(),d=a.length<o&&!!l;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,(i?a:Array.from(new Array(s))).map((function(e,t){return r.a.createElement(oe,{key:e?e.id:"index:"+t},e?r.a.createElement(L.a,{height:400,once:!0,placeholder:r.a.createElement(ne,null)},r.a.createElement(K,Object.assign({},e,{onFavorite:m}))):r.a.createElement(ne,null))}))),d&&r.a.createElement(F.a,{className:u.button,variant:"outlined",fullWidth:!0,size:"large",disabled:n,onClick:l},n?r.a.createElement(Y.a,{className:u.buttonProgress,variant:"indeterminate",disableShrink:!0,size:16,thickness:4}):r.a.createElement(ee.a,{className:u.buttonProgress}),n?"Loading...":"Load more"))},me="POPULAR_MOVIES_FETCH_REQUEST",ue="POPULAR_MOVIES_FETCH_SUCCESS",de="POPULAR_MOVIES_FETCH_FAIL",pe="TOP_RATED_MOVIES_FETCH_REQUEST",ve="TOP_RATED_MOVIES_FETCH_SUCCESS",ge="TOP_RATED_MOVIES_FETCH_FAIL",he="UPCOMING_MOVIES_FETCH_REQUEST",Ee="UPCOMING_MOVIES_FETCH_SUCCESS",fe="UPCOMING_MOVIES_FETCH_FAIL";var be="USER_VISITED_MOVIE",ye="USER_FAVORITE_TOGGLE",Oe="USER_CLEANED_VISITED_MOVIES";function Me(e){return{type:ye,payload:{id:e}}}var Ne=a(7);function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w500";return e?"https://image.tmdb.org/t/p/".concat(t).concat(e):null}function Se(e,t,a){var n=t.moviesById[e];return n?Object(Ne.a)({},n,{genres:n.genreIds.map((function(e){return t.genresById[e]})),isFavorite:-1!==a.favoriteMovieIds.indexOf(e)}):null}function Ie(e){var t=e.raw,a=void 0===t?{}:t,n=e.posterSize,r=void 0===n?"w500":n,i=e.backdropSize,o=void 0===i?"original":i,c=e.extended,s=void 0!==c&&c,l={id:a.id,title:a.title,overview:a.overview,genreIds:a.genres?a.genres.map((function(e){return e.id})):a.genre_ids,voteAverage:a.vote_average,releaseDate:new Date(a.release_date),posterImageUrl:_e(a.poster_path,r),backdropImageUrl:_e(a.backdrop_path,o),popularity:a.popularity},m=s?{duration:a.runtime,budget:a.budget,productionCountries:(a.production_countries||[]).map((function(e){return e.name})),legend:a.tagline,actors:(a.credits||[]).cast.map((function(e){return{id:e.id,name:e.name,character:e.character,gender:e.gender,photo:_e(e.profile_path)}})),crew:(a.credits||[]).crew.map((function(e){return{id:e.id,department:e.department,job:e.job,gender:e.gender,name:e.name,photo:_e(e.profile_path)}})),isExtendedDataLoaded:!0}:null;return Object.assign(l,m)}var Ce=a(94),xe=a.n(Ce),Fe=Object(U.a)((function(e){return{movieList:{margin:"20px 0px"},container:{margin:"12px auto"}}})),Re=xe()({root:{borderRadius:4,border:"1px solid rgb(242, 242, 242)",overflow:"hidden",background:"white"},indicator:{background:"none"}})(k.a),we=xe()({root:{minWidth:110},selected:{background:"#115293",color:"white"}})(T.a),je={POPULAR:"popular",TOP_RATED:"top-rated",UPCOMING:"upcoming"},Ae=20;var ke=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,popularMovies:e.home.popularMovies,topRatedMovies:e.home.topRatedMovies,upcomingMovies:e.home.upcomingMovies,entities:e.entities,user:e.user}}),(function(e){return{fetchPopularMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_POPULAR_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/popular",handlers:{request:me,success:ue,fail:[I,de]}}}}(t))},fetchTopRatedMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_TOP_RATED_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/top_rated",handlers:{request:pe,success:ve,fail:[I,ge]}}}}(t))},fetchUpcomingMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_UPCOMING_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/upcoming",handlers:{request:he,success:Ee,fail:[I,fe]}}}}(t))},toggleFavorite:function(t){return e(Me(t))}}}))((function(e){var t,a=e.isAppReady,i=e.popularMovies,o=e.topRatedMovies,s=e.upcomingMovies,l=e.entities,m=e.user,u=e.toggleFavorite,d=e.fetchPopularMovies,p=e.fetchTopRatedMovies,v=e.fetchUpcomingMovies,g=Object(n.useState)(je.POPULAR),h=Object(c.a)(g,2),E=h[0],f=h[1],b=(t={},Object(j.a)(t,je.POPULAR,{movies:i,fetch:d}),Object(j.a)(t,je.TOP_RATED,{movies:o,fetch:p}),Object(j.a)(t,je.UPCOMING,{movies:s,fetch:v}),t),y=b[E],O=a?y.movies.ids.map((function(e){return Se(e,l,m)})):[];function M(e){f(e);var t=b[e];t.movies.ids.length||t.fetch()}Object(n.useEffect)((function(){M(je.POPULAR)}),[]);var N=Fe();return r.a.createElement(A.a,{className:N.container},r.a.createElement(Re,{value:E,onChange:function(e,t){return M(t)},"aria-label":"disabled tabs example"},r.a.createElement(we,{label:"Popular",value:je.POPULAR}),r.a.createElement(we,{label:"Top rated",value:je.TOP_RATED}),r.a.createElement(we,{label:"Upcoming",value:je.UPCOMING})),r.a.createElement("main",{className:N.movieList},r.a.createElement(le,{onLoadMore:function(){y.movies.totalMovies!==y.movies.ids.length&&y.fetch(y.movies.ids.length/Ae+1)},placeholdersAmount:10,movies:O,onFavorite:u,isFetched:y.movies.isFetched,isFetching:!a||y.movies.isFetching,totalMovies:y.movies.totalMovies})))})),Te=a(246),De=a(248),Le=a(249),Ue=a(250),Pe=a(5),Ve=a(259),He=a(82),Ge=a.n(He),Be=Object(U.a)((function(e){return{root:{position:"relative",display:"flex",flexWrap:"nowrap"},icon:{position:"absolute",left:0,top:0,display:"flex",height:"100%",width:e.spacing(7),pointerEvents:"none",alignItems:"center",justifyContent:"center"},input:{color:"inherit",paddingLeft:e.spacing(7),padding:4,transition:e.transitions.create("background"),background:"rgba(0, 0, 0, 0.05)",borderRadius:e.shape.borderRadius,width:"100%","&:focus, &:hover":{background:"rgba(0, 0, 0, 0.065)"},"&:focus":{minWidth:400}}}}));var qe=function(e){var t=e.value,a=e.placeholder,n=e.onChange,i=e.onFocus,o=e.onBlur,c=e.style,s=Be();return r.a.createElement("div",{className:s.root,style:c},r.a.createElement("div",{className:s.icon},r.a.createElement(Ge.a,null)),r.a.createElement(Ve.a,{className:s.input,value:t,type:"search",onChange:n,onFocus:i,onBlur:o,placeholder:a,inputProps:{"aria-label":"search"}}))},ze=a(245),We=a(261),Ze=Object(U.a)((function(e){return{root:{position:"fixed",maxHeight:400,width:"100%",overflowY:"auto",background:"white",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.22)",zIndex:2}}}));var Qe=Object(U.a)((function(e){return{item:Object(j.a)({height:60,padding:e.spacing(1),paddingLeft:20},e.breakpoints.down("sm"),{height:90}),itemImage:{height:"100%",borderRadius:4,overflow:"hidden",flexShrink:0},itemInfo:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vote:{display:"flex",alignItems:"center",marginLeft:"auto",marginRight:e.spacing(1),padding:e.spacing(1),height:"100%",fontWeight:"bold",fontSize:"12pt"}}}));function Je(e){var t=e.movie,n=Qe(),i=t.posterImageUrl||a(121),o=G(t.voteAverage);return r.a.createElement(We.a,{button:!0,component:V.a,className:n.item,to:"/movie/"+t.id},r.a.createElement("img",{className:n.itemImage,src:i,alt:t.title}),r.a.createElement("div",{className:n.itemInfo},r.a.createElement(P.a,{variant:"body1"},r.a.createElement("span",{style:{fontWeight:500}},t.title),r.a.createElement("span",{style:{color:"grey"}},t.releaseDate>0?" (".concat(t.releaseDate.getFullYear(),")"):"")),r.a.createElement(P.a,{variant:"body2",component:"span",style:{color:"grey"}},t.genres.length?t.genres.join(", "):"\u2014")),r.a.createElement(P.a,{variant:"body2",className:n.vote,style:{color:o}},t.voteAverage>0?t.voteAverage:"\u2014"))}var Ke=function(e){var t=e.movies,a=void 0===t?[]:t,n=(e.fullHeight,Ze());return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{className:n.root,"aria-labelledby":"nested-list-subheader"},a.map((function(e){return r.a.createElement(Je,{key:e.id,movie:e})}))))},Ye="SEARCH_REQUEST",Xe="SEARCH_SUCCESS",$e="SEARCH_FAIL",et="SEARCH_CANCEL",tt="SEARCH_QUERY_CHANGED",at={type:"DO_NOTHING"},nt={isDone:!0,isCancelled:!1};function rt(){return nt.isDone||nt.isCancelled?{type:et}:(nt.cancel(),at)}var it=a(83),ot=a.n(it),ct=a(247),st=a(21),lt=Object(U.a)((function(e){return{menu:{marginRight:10},brand:{textDecoration:"none",color:"inherit"},overlay:{position:"fixed",width:"100%",height:"100vh",top:0,left:0,background:"rgba(9, 9, 10, 0.6)",zIndex:1}}})),mt=Object(Pe.a)({root:{color:"#333",background:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}})(Te.a),ut=Object(Pe.a)((function(e){return{root:{backgroundColor:"rgba(0, 0, 0, 0.05)",marginRight:e.spacing(1),marginLeft:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}}))(F.a);var dt=Object(s.c)((function(e){return Object(Ne.a)({},e.search,{entities:e.entities,location:e.router.location.pathname})}),(function(e){return{searchMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&e.trim().length?(nt.isDone||nt.isCancelled||rt(),nt=f(),{type:"MOVIES_SEARCH",payload:null,meta:{target:y,url:"search/movie",method:"GET",params:{query:e,page:t},task:nt,handlers:{request:Ye,success:Xe,fail:[I,$e],cancel:et}}}):nt.isDone||nt.isCancelled?rt():(nt.cancel(),at)}(t))},cancelSearch:function(){return e(rt())},changeQuery:function(t){return e(function(e){return{type:tt,payload:{query:e}}}(t))}}}))((function(e){var t=Object(st.a)(),a=e.onMenu,i=e.query,o=e.foundMovies,s=e.entities,l=e.location,m=e.changeQuery,u=e.searchMovies,d=e.cancelSearch,p=lt(),v=Object(ct.a)(t.breakpoints.down("sm")),g=Object(n.useState)(!1),h=Object(c.a)(g,2),E=h[0],f=h[1],b=Object(n.useState)(!1),y=Object(c.a)(b,2),O=y[0],M=y[1],N=o.map((function(e){return Object(Ne.a)({},e,{genres:e.genreIds.map((function(e){return s.genresById[e]}))})})),_=Object(n.useCallback)(function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=this,i=arguments,o=function(){a=null,n||e.apply(r,i)},c=n&&!a;clearTimeout(a),a=setTimeout(o,t),c&&e.apply(r,i)}}((function(e){u(e),M(!0)}),600),[u]);function S(e){var t=e.target.value;m(t),d(),t.length&&t.trim().length<2||_(t)}return Object(n.useEffect)((function(){var e;e=!(O&&o.length),document.body.style.overflow=e?"":"hidden"}),[O,o]),Object(n.useEffect)((function(){M(!1)}),[l]),v?r.a.createElement(r.a.Fragment,null,O&&r.a.createElement("div",{className:p.overlay,onClick:function(e){return M(!1)}}),r.a.createElement(mt,{position:"sticky"},r.a.createElement(De.a,null,r.a.createElement(Le.a,{onClick:a,edge:"start",color:"inherit","aria-label":"menu",className:p.menu},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},r.a.createElement(V.a,{to:"/",className:p.brand},"React Movie App")),r.a.createElement(Le.a,{onClick:function(e){return f(!E)},style:{marginLeft:"auto"}},r.a.createElement(Ge.a,null))),E&&r.a.createElement("div",{style:{margin:"5px 15px 10px 15px"}},r.a.createElement(qe,{value:i,style:{width:"100%",height:50},placeholder:"Search...",onChange:S,onBlur:function(e){return!i&&M(!1)},onFocus:function(){return M(!0)}}))),!!N.length&&O&&r.a.createElement(Ke,{movies:N})):r.a.createElement(r.a.Fragment,null,O&&r.a.createElement("div",{className:p.overlay,onClick:function(e){return M(!1)}}),r.a.createElement(mt,{position:"sticky"},r.a.createElement(De.a,null,r.a.createElement(Le.a,{onClick:a,edge:"start",color:"inherit","aria-label":"menu",className:p.menu},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},r.a.createElement(V.a,{to:"/",className:p.brand},"React Moive App")),r.a.createElement(qe,{value:i,placeholder:"Search...",style:{marginLeft:30,width:250},onChange:S,onBlur:function(e){return!i&&M(!1)},onFocus:function(){return M(!0)}}),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(ut,{component:V.a,to:"/favorites",color:"inherit"},r.a.createElement(q.a,{style:{marginRight:10,fill:"#f50057"}}),"Favorites"),r.a.createElement(ut,{component:V.a,to:"/visited",color:"inherit"},r.a.createElement(ot.a,{style:{marginRight:10,fill:"#115293"}}),"Visited")))),!!N.length&&O&&r.a.createElement(Ke,{movies:N}))})),pt=a(260),vt="MOVIE_PAGE_FETCH_REQUEST",gt="MOVIE_PAGE_FETCH_SUCCESS",ht="MOVIE_PAGE_FETCH_FAIL",Et="SIMILAR_MOVIES_FETCH_REQUEST",ft="SIMILAR_MOVIES_FETCH_SUCCESS",bt="SIMILAR_MOVIES_FETCH_FAIL",yt="RECOMMENDED_MOVIES_FETCH_REQUEST",Ot="RECOMMENDED_MOVIES_FETCH_SUCCESS",Mt="RECOMMENDED_MOVIES_FETCH_FAIL";var Nt=Object(U.a)((function(e){return{skeleton:{background:"rgb(181, 181, 181)"},icon:{color:"rgb(181, 181, 181)"}}}));var _t=function(){var e=Nt(),t=function(t){return r.a.createElement(ae.a,{variant:"text",width:t,height:28,className:e.skeleton})},a=function(t){return Array.from(new Array(t)).map((function(t,a){return r.a.createElement(ae.a,{variant:"text",key:a,width:100-8*Math.random()+"%",height:20,className:e.skeleton})}))};return r.a.createElement(re.a,{container:!0,spacing:7},r.a.createElement(re.a,{item:!0,md:3},r.a.createElement(ae.a,{variant:"rect",height:356,style:{borderRadius:10},width:"100%",className:e.skeleton})),r.a.createElement(re.a,{item:!0,md:8,style:{color:"white"}},r.a.createElement(ae.a,{variant:"text",width:100,height:20,className:e.skeleton}),r.a.createElement(ae.a,{variant:"text",width:300,height:34,className:e.skeleton}),r.a.createElement("div",null,r.a.createElement(pt.a,{value:4,classes:{iconEmpty:e.icon},readOnly:!0})),t(50),a(4),r.a.createElement("br",null),t(70),a(3)))},St={formatDate:function(e){return"".concat(e.getDay()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],", ").concat(e.getFullYear())},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},It=Object(U.a)((function(e){return{container:{height:300,background:"#f3f3f3",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(0, 0, 0, 0.25)"}}}));var Ct=function(e){var t=e.text,a=It();return r.a.createElement("div",{className:a.container},r.a.createElement(P.a,{variant:"body1"},t))};var xt=Object(U.a)((function(e){return{movieContainer:{paddingTop:50,paddingBottom:50},backdrop:{position:"absolute",height:"100%",width:"100%",zIndex:-1,"&:after":{position:"absolute",content:"''",display:"block",top:0,left:0,width:"100%",height:"100%",background:"rgba(30, 47, 60, 0.75)",backgroundImage:"radial-gradient(circle at 20% 50%, rgba(30, 47, 60, 0.75) 0%, rgba(48, 65, 78, 0.75) 100%)"}},backdropImage:{display:"block",width:"100%",height:"100%",objectFit:"cover"},poster:{width:"100%",borderRadius:10,boxShadow:"0px 3px 20px #0000003b"},releaseDate:{fontSize:"11pt",color:"#dadde2"},vote:{display:"flex",alignItems:"center",fontSize:"12pt"},genreList:{listStyle:"none",padding:0,display:"flex",flexWrap:"wrap"},genre:{cursor:"pointer",padding:"1px 6px",marginRight:10,border:"1px solid white",borderRadius:4,fontSize:"10pt"},subtitle:{marginBottom:8,fontSize:"13pt"},crewList:{listStyle:"none",padding:0}}}));function Ft(e){var t=e.movie,n=e.loaded,i=e.onFavorite,o=t.id,c=t.title,s=t.genres,l=t.duration,m=t.budget,u=t.backdropImageUrl,d=t.posterImageUrl,p=t.releaseDate,v=t.productionCountries,g=t.voteAverage,h=t.legend,E=t.overview,f=t.crew,b=(t.actors,t.isFavorite),y=xt(),O=d||a(121);return r.a.createElement("main",{style:{position:"relative"}},r.a.createElement("div",{className:y.backdrop},r.a.createElement("img",{className:y.backdropImage,src:u,alt:"Backdrop of "+c})),r.a.createElement(A.a,{className:y.movieContainer},n?r.a.createElement(re.a,{container:!0,spacing:7},r.a.createElement(re.a,{item:!0,md:3},r.a.createElement("img",{className:y.poster,src:O,alt:"Poster of "+c})),r.a.createElement(re.a,{item:!0,md:8,style:{color:"white"}},r.a.createElement("div",{className:y.releaseDate},St.formatDate(p)," (",v.join(", "),")"),r.a.createElement(P.a,{variant:"h4",style:{fontWeight:"bold"},component:"h1"},c),r.a.createElement("ul",{className:y.genreList},s.map((function(e){return r.a.createElement("li",{className:y.genre,key:e},e)}))),r.a.createElement("div",{className:y.vote},r.a.createElement(pt.a,{value:g/2,readOnly:!0}),r.a.createElement("span",{style:{margin:"2px 0px 0 6px"}},g,"/10"),r.a.createElement(F.a,{style:{marginLeft:16},onClick:function(){return i(o)},variant:b?"contained":"outlined",color:"secondary","aria-label":"like"},r.a.createElement(q.a,null))),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(P.a,{component:"div",style:{marginRight:15}},r.a.createElement("b",null,"Duration:")," ",l," min."),r.a.createElement(P.a,{component:"div"},r.a.createElement("b",null,"Budget:")," ",m?"$"+St.numberWithCommas(m):"-")),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Legend"),r.a.createElement(P.a,{variant:"body1"},h)),E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Overview"),r.a.createElement(P.a,{variant:"body1"},E)),f.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Crew"),r.a.createElement(re.a,{container:!0,spacing:3,component:"ul",className:y.crewList},f.slice(0,4).map((function(e,t){return r.a.createElement(re.a,{item:!0,md:3,sm:6,component:"li",key:t,style:{paddingRight:16}},r.a.createElement(P.a,{variant:"body2",style:{fontWeight:"bold"}},e.name),r.a.createElement(P.a,{variant:"body2"},e.department,", ",e.job))})))))):r.a.createElement(_t,null)))}function Rt(e){var t=e.id,a=e.movie,i=e.entities,o=e.user,c=e.toggleFavorite,s=e.fetchSimilarMovies,l=e.fetchRecommendedMovies,m=a.recommendedMovies,u=a.similarMovies,d=m.ids.slice(0,6).map((function(e){return Se(e,i,o)})),p=u.ids.slice(0,6).map((function(e){return Se(e,i,o)})),v=Object(n.useCallback)((function(){return s(t)}),[t,s]),g=Object(n.useCallback)((function(){return l(t)}),[t,l]);return r.a.createElement(A.a,null,r.a.createElement("section",null,r.a.createElement("h2",null,"Recommended movies"),r.a.createElement(L.a,{height:400},r.a.createElement(wt,{isFetching:m.isFetching,isFetched:m.isFetched,movies:d,amount:6,fetch:g,onFavorite:c}))),r.a.createElement("section",null,r.a.createElement("h2",null,"Similar movies"),r.a.createElement(L.a,{height:400},r.a.createElement(wt,{isFetching:u.isFetching,isFetched:u.isFetched,movies:p,amount:6,fetch:v,onFavorite:c}))))}function wt(e){var t=e.isFetching,a=e.isFetched,i=e.movies,o=void 0===i?[]:i,c=e.amount,s=e.fetch,l=e.onFavorite;return Object(n.useEffect)((function(){s()}),[s]),a&&!o.length?r.a.createElement(Ct,{text:"There is no data for this movie"}):r.a.createElement(le,{placeholdersAmount:c,isFetching:t,isFetched:a,movies:o,onFavorite:l})}var jt=Object(s.c)((function(e){var t=e.movie.isFetched?Se(e.movie.id,e.entities,e.user):{};return t=Object(Ne.a)({},t,{},e.movie),{isAppReady:e.common.isAppReady,movie:t,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(function(e){return{type:"FETCH_MOVIE_PAGE",payload:null,meta:{target:y,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:vt,success:gt,fail:[I,ht]}}}}(t))},fetchSimilarMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_SIMILAR_MOVIES",payload:null,meta:{target:y,method:"GET",url:"movie/".concat(e,"/similar"),params:{page:t},handlers:{request:Et,success:ft,fail:[I,bt]}}}}(t))},fetchRecommendedMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_RECOMMENDED_MOVIES",payload:null,meta:{target:y,method:"GET",url:"movie/".concat(e,"/recommendations"),params:{page:t},handlers:{request:yt,success:Ot,fail:[I,Mt]}}}}(t))},toggleFavorite:function(t){return e(Me(t))},makeMovieVisited:function(t){return e(function(e){return{type:be,payload:{id:e}}}(t))}}}))((function(e){var t=Object(l.f)().id,a=e.isAppReady,i=e.movie,o=e.fetchMovie,c=e.toggleFavorite,s=e.makeMovieVisited;return Object(n.useEffect)((function(){o(t),window.scrollTo({top:0,left:0})}),[t,o]),Object(n.useEffect)((function(){i.isFetched&&s(i.id)}),[i.id,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,{movie:i,loaded:a&&i.isFetched,onFavorite:c}),r.a.createElement(Rt,Object.assign({},e,{id:t})))}));function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Tt=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1,.cls-4{fill:#231f20;}.cls-1,.cls-10{opacity:0.1;}.cls-2{fill:#27aae1;}.cls-3{opacity:0.2;}.cls-5{fill:#f1f2f2;}.cls-6{fill:#e6e7e8;}.cls-7{fill:#fff;}.cls-12,.cls-13,.cls-8{fill:#414042;}.cls-9{fill:#b2875d;}.cls-11{fill:#c49a6c;}.cls-12{font-size:64.14px;font-family:Montserrat-Black, Montserrat Black;}.cls-13{font-size:13.47px;font-family:Montserrat-Light, Montserrat Light;}.cls-14{letter-spacing:-0.05em;}.cls-15{letter-spacing:-0.01em;}.cls-16{letter-spacing:-0.01em;}.cls-17{letter-spacing:-0.01em;}.cls-18{letter-spacing:0em;}")),Dt=r.a.createElement("title",null,"Asset 1"),Lt=r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"BACKGROUND_1","data-name":"BACKGROUND 1"},r.a.createElement("path",{className:"cls-1",d:"M294.19,257.12c0,6.6-65.85,5.75-147.09,5.75S0,263.72,0,257.12s65.86-11.94,147.1-11.94S294.19,250.52,294.19,257.12Z"}),r.a.createElement("path",{className:"cls-2",d:"M198.76,94.76a53.54,53.54,0,1,1-53.53-53.53A53.53,53.53,0,0,1,198.76,94.76Z"}),r.a.createElement("path",{className:"cls-2",d:"M180.83,50.75A50.75,50.75,0,1,1,130.08,0,50.75,50.75,0,0,1,180.83,50.75Z"}),r.a.createElement("path",{className:"cls-2",d:"M209.67,47.47a28.06,28.06,0,1,1-28.06-28.06A28.05,28.05,0,0,1,209.67,47.47Z"}),r.a.createElement("path",{className:"cls-2",d:"M163,87.54a51.79,51.79,0,1,1-51.79-51.78A51.79,51.79,0,0,1,163,87.54Z"}),r.a.createElement("path",{className:"cls-2",d:"M236.66,91.34a47.8,47.8,0,1,1-47.79-47.8A47.78,47.78,0,0,1,236.66,91.34Z"}),r.a.createElement("g",{className:"cls-3"},r.a.createElement("polygon",{className:"cls-4",points:"172.1 33.91 172.13 33.89 108.1 33.89 108.1 133.89 201.25 134.34 189.53 51.45 172.1 33.91"})),r.a.createElement("polygon",{className:"cls-5",points:"169.03 32.91 169.06 32.89 105.1 32.89 105.1 132.89 188.1 132.89 188.1 51.99 169.03 32.91"}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:40.89,width:64,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:50.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:60.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:69.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:79.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:89.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:99.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:109.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:119.89,width:74,height:1}),r.a.createElement("rect",{className:"cls-6",x:109.1,y:129.89,width:74,height:1}),r.a.createElement("polygon",{className:"cls-7",points:"188.25 51.89 169.1 51.89 169.1 32.74 188.25 51.89"}),r.a.createElement("path",{className:"cls-7",d:"M139.53,68.52A11.73,11.73,0,1,1,127.8,56.8,11.73,11.73,0,0,1,139.53,68.52Z"}),r.a.createElement("path",{className:"cls-8",d:"M136.49,68.52a8.69,8.69,0,1,1-8.69-8.69A8.69,8.69,0,0,1,136.49,68.52Z"}),r.a.createElement("path",{className:"cls-7",d:"M128.14,62.52a3,3,0,1,1-3-3A3,3,0,0,1,128.14,62.52Z"}),r.a.createElement("path",{className:"cls-7",d:"M123.67,68.71a1.48,1.48,0,1,1-1.47-1.47A1.47,1.47,0,0,1,123.67,68.71Z"}),r.a.createElement("path",{className:"cls-7",d:"M127.7,72.71a2.25,2.25,0,1,1-2.25-2.25A2.25,2.25,0,0,1,127.7,72.71Z"}),r.a.createElement("path",{className:"cls-7",d:"M135.3,69.94c-2.59.4-2.92.73-3.32,3.32-.4-2.59-.73-2.92-3.33-3.32,2.6-.41,2.93-.73,3.33-3.33C132.38,69.21,132.71,69.53,135.3,69.94Z"}),r.a.createElement("path",{className:"cls-7",d:"M177.16,68.52A11.73,11.73,0,1,1,165.43,56.8,11.73,11.73,0,0,1,177.16,68.52Z"}),r.a.createElement("path",{className:"cls-8",d:"M174.13,68.52a8.7,8.7,0,1,1-8.7-8.69A8.69,8.69,0,0,1,174.13,68.52Z"}),r.a.createElement("path",{className:"cls-7",d:"M165.77,62.52a3,3,0,1,1-3-3A3,3,0,0,1,165.77,62.52Z"}),r.a.createElement("path",{className:"cls-7",d:"M161.3,68.71a1.47,1.47,0,1,1-1.47-1.47A1.47,1.47,0,0,1,161.3,68.71Z"}),r.a.createElement("path",{className:"cls-7",d:"M165.34,72.71a2.25,2.25,0,1,1-2.25-2.25A2.25,2.25,0,0,1,165.34,72.71Z"}),r.a.createElement("path",{className:"cls-7",d:"M172.94,69.94c-2.6.4-2.93.73-3.33,3.32-.4-2.59-.73-2.92-3.32-3.32,2.59-.41,2.92-.73,3.32-3.33C170,69.21,170.34,69.53,172.94,69.94Z"}),r.a.createElement("path",{className:"cls-8",d:"M162,102a1.75,1.75,0,0,1-1.74-1.75,13.6,13.6,0,0,0-27.2,0,1.75,1.75,0,0,1-3.5,0,17.1,17.1,0,1,1,34.19,0A1.75,1.75,0,0,1,162,102Z"}),r.a.createElement("polygon",{className:"cls-9",points:"244.1 255.89 48.1 255.89 48.11 104.89 244.1 104.89 244.1 255.89"}),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:48.1,y:167.89,width:20,height:11})),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:48.1,y:193.89,width:20,height:11})),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:48.1,y:218.89,width:20,height:11})),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:224.1,y:167.89,width:20,height:11})),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:224.1,y:193.89,width:20,height:11})),r.a.createElement("g",{className:"cls-10"},r.a.createElement("rect",{className:"cls-7",x:224.1,y:218.89,width:20,height:11})),r.a.createElement("polygon",{className:"cls-11",points:"282.38 145.4 241.97 107.45 244.38 104.9 284.78 142.86 282.38 145.4"}),r.a.createElement("polygon",{className:"cls-11",points:"9.92 145.4 50.33 107.45 47.92 104.9 7.52 142.86 9.92 145.4"}),r.a.createElement("polygon",{className:"cls-11",points:"256.73 154.89 35.56 154.89 48.59 104.89 243.71 104.89 256.73 154.89"}),r.a.createElement("text",{className:"cls-12",transform:"translate(80.24 213.43)"},"404"),r.a.createElement("text",{className:"cls-13",transform:"translate(86.36 234.7)"},r.a.createElement("tspan",{className:"cls-14"},"P"),r.a.createElement("tspan",{className:"cls-15",x:9.03,y:0},"A"),r.a.createElement("tspan",{x:18.39,y:0},"GE N"),r.a.createElement("tspan",{className:"cls-16",x:52.25,y:0},"O"),r.a.createElement("tspan",{x:63.4,y:0},"T "),r.a.createElement("tspan",{className:"cls-17",x:74.45,y:0},"F"),r.a.createElement("tspan",{className:"cls-18",x:82.83,y:0},"OUND")))),Ut=function(e){var t=e.svgRef,a=e.title,n=kt(e,["svgRef","title"]);return r.a.createElement("svg",At({viewBox:"0 0 294.19 262.91",ref:t},n),Tt,void 0===a?Dt:a?r.a.createElement("title",null,a):null,Lt)},Pt=r.a.forwardRef((function(e,t){return r.a.createElement(Ut,At({svgRef:t},e))})),Vt=(a.p,Object(U.a)((function(e){return{container:{minHeight:"80vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},title:{fontSize:"33pt",marginTop:10},subtitle:{fontSize:"14pt"},action:{textDecoration:"none",color:"#0037ff",margin:6,"&:hover":{textDecoration:"underline"}}}})));var Ht=function(e){var t=Vt();return r.a.createElement(A.a,{className:t.container},r.a.createElement(Pt,{style:{height:300}}),r.a.createElement("div",{className:t.title},"Ooops! We're sorry! "),r.a.createElement("div",{className:t.subtitle},"Try searching or go to",r.a.createElement(V.a,{className:t.action,to:"/"},"Home page.")))},Gt="MOVIE_FETCH_REQUEST",Bt="MOVIE_FETCH_SUCCESS",qt="MOVIE_FETCH_FAIL";function zt(e){return{type:"FETCH_MOVIE",payload:null,meta:{target:y,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:Gt,success:Bt,fail:[I,qt]}}}}var Wt=function(e){var t=e.id,a=e.movie,i=e.ready,o=e.fetch,c=e.onFavorite;return Object(n.useEffect)((function(){!a&&i&&o(t)}),[t,a,o,i]),a?r.a.createElement(K,Object.assign({},a,{onFavorite:c})):r.a.createElement(ne,null)};var Zt=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,movieIds:e.user.favoriteMovieIds,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(zt(t))},toggleFavorite:function(t){return e(Me(t))}}}))((function(e){var t=e.isAppReady,a=e.movieIds,n=e.entities,i=e.user,o=e.fetchMovie,c=e.toggleFavorite;return r.a.createElement(A.a,{style:{margin:"20px auto"}},r.a.createElement(P.a,{component:"h2",variant:"h4",style:{margin:"40px 0"}},"Favorite movies"),!a.length&&r.a.createElement(Ct,{text:"You haven't marked favorite movies yet"}),!!a.length&&r.a.createElement(ce,null,a.map((function(e){var a=Se(e,n,i);return r.a.createElement(L.a,{minheight:400,key:e,once:!0},r.a.createElement(oe,null,r.a.createElement(Wt,{id:e,movie:a,fetch:o,ready:t,onFavorite:c})))}))))}));var Qt=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,movieIds:e.user.visitedMovieIds,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(zt(t))},toggleFavorite:function(t){return e(Me(t))},cleanVisitedMovies:function(){return e({type:Oe})}}}))((function(e){var t=e.isAppReady,a=e.movieIds,n=e.entities,i=e.user,o=e.fetchMovie,c=e.toggleFavorite,s=e.cleanVisitedMovies;return r.a.createElement(A.a,{style:{margin:"20px auto"}},r.a.createElement("div",{style:{display:"flex",margin:"40px 0"}},r.a.createElement(P.a,{component:"h2",variant:"h4"},"Visited movies"),r.a.createElement(F.a,{onClick:s,style:{marginLeft:"auto"},variant:"outlined",disabled:!a.length},"Clear history")),!a.length&&r.a.createElement(Ct,{text:"You haven't marked favorite movies yet"}),!!a.length&&r.a.createElement(ce,null,a.map((function(e){var a=Se(e,n,i);return r.a.createElement(L.a,{minheight:400,key:e,once:!0},r.a.createElement(oe,null,r.a.createElement(Wt,{id:e,movie:a,fetch:o,ready:t,onFavorite:c})))}))))})),Jt=a(258),Kt=a(252),Yt=a(253),Xt=a(251),$t=Object(U.a)((function(e){return{list:{width:250},brand:{textDecoration:"none",color:"inherit"}}}));var ea=function(e){var t=e.open,a=e.onClose,n=$t();return r.a.createElement(Jt.a,{anchor:"left",variant:"temporary",open:t,onClose:a},r.a.createElement(ze.a,{className:n.list},r.a.createElement(We.a,{button:!0,key:"favorite"},r.a.createElement(Le.a,{onClick:a,edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},r.a.createElement(V.a,{className:n.brand,to:"/"},"Cinema App"))),r.a.createElement(Xt.a,null),r.a.createElement(We.a,{component:V.a,to:"/favorites",button:!0,key:"favorite"},r.a.createElement(Kt.a,null,r.a.createElement(q.a,null)),r.a.createElement(Yt.a,{primary:"Favorites"})),r.a.createElement(We.a,{component:V.a,to:"/visited",button:!0,key:"visited"},r.a.createElement(Kt.a,null,r.a.createElement(ot.a,null)),r.a.createElement(Yt.a,{primary:"Visited"}))))};var ta=Object(s.c)((function(e){return{isLoading:!e.common.isGenresLoaded||e.search.isFetching||e.movie.isFetching,errors:e.ui.errors,location:e.router.location.pathname}}),(function(e){return{fetchGenres:function(){return e({type:"FETCH_GENRES",payload:null,meta:{target:y,method:"GET",url:"genre/movie/list",params:null,handlers:{request:N,success:_,fail:[I,S]}}})}}}))((function(e){var t=e.isLoading,a=e.location,i=e.fetchGenres,o=Object(n.useState)(!1),s=Object(c.a)(o,2),d=s[0],p=s[1];return Object(n.useEffect)((function(){i()}),[i]),Object(n.useEffect)((function(){p(!1)}),[a]),r.a.createElement(x.SnackbarProvider,{autoHideDuration:3e4},r.a.createElement(m.a,null),r.a.createElement(w,null),t&&r.a.createElement(u.a,{style:{position:"fixed",top:0,width:"100%",zIndex:9999}}),r.a.createElement(dt,{onMenu:function(){return p(!d)}}),r.a.createElement(ea,{open:d,onClose:function(){return p(!d)}}),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:ke}),r.a.createElement(l.a,{path:"/movie/:id",component:jt}),r.a.createElement(l.a,{path:"/favorites",component:Zt}),r.a.createElement(l.a,{path:"/visited",component:Qt}),r.a.createElement(l.a,{component:Ht})))})),aa=a(60),na=a(47),ra=a(25),ia=(a(200),a(122)),oa={isAppReady:!1,isGenresLoaded:!1};var ca=a(15),sa="Something went wrong";function la(e){return"string"===typeof e?e:e.isAxiosError?e.response?404===e.response.status?sa:e.response.message?e.response.message:e.message:e.message||sa:e.message?e.message:e.error?la(e.error):sa}var ma={errors:[]};var ua={visitedMovieIds:JSON.parse(localStorage.getItem("visitedMovies"))||[],favoriteMovieIds:JSON.parse(localStorage.getItem("favoriteMovies"))||[]};var da={ids:[],isFetching:!0,isFetched:!1,totalMovies:0};function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:da,a=arguments.length>2?arguments[2]:void 0,n=a.type,r=a.payload;switch(n){case e+"_FETCH_REQUEST":return Object(Ne.a)({},t,{isFetching:!0});case e+"_FETCH_SUCCESS":var i=r.total_results,o=r.results.map((function(e){return e.id}));return{ids:[].concat(Object(ca.a)(t.ids),Object(ca.a)(o)),isFetching:!1,isFetched:!0,totalMovies:i};case e+"_FETCH_FAIL":return Object(Ne.a)({},t,{isFetching:!1,isFetched:!1});default:return t}}var va={id:null,isFetching:!1,isFetched:!1,similarMovies:pa("SIMILAR_MOVIES",void 0,{}),recommendedMovies:pa("RECOMMENDED_MOVIES",void 0,{})};var ga={popularMovies:pa("POPULAR_MOVIES",void 0,{}),topRatedMovies:pa("TOP_RATED_MOVIES",void 0,{}),upcomingMovies:pa("UPCOMING_MOVIES",void 0,{})};var ha={moviesById:{},genresById:{}};var Ea=a(20),fa={query:"",isFetching:!1,isFetched:!1,foundMovies:[]};var ba=Object(ra.a)(),ya=Object(na.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case I:console.error(n.error);var r={id:h(),message:la(n.error),date:new Date};return Object(Ne.a)({},e,{errors:[].concat(Object(ca.a)(e.errors),[r])});case C:var i=n.error.id;return Object(Ne.a)({},e,{errors:e.errors.filter((function(e){return e.id!==i}))});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(t.payload,a){case N:case S:return Object(Ne.a)({},e,{isGenresLoaded:!1,isAppReady:!1});case _:return Object(Ne.a)({},e,{isGenresLoaded:!0,isAppReady:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ye:var r,i=n.id;return r=-1!==e.favoriteMovieIds.indexOf(i)?e.favoriteMovieIds.filter((function(e){return e!==i})):[i].concat(Object(ca.a)(e.favoriteMovieIds)),localStorage.setItem("favoriteMovies",JSON.stringify(r)),Object(Ne.a)({},e,{favoriteMovieIds:r});case be:var o=n.id,c=Object(ca.a)(new Set([o].concat(Object(ca.a)(e.visitedMovieIds))));return localStorage.setItem("visitedMovies",JSON.stringify(c)),Object(Ne.a)({},e,{visitedMovieIds:c});case Oe:return localStorage.setItem("visitedMovies",JSON.stringify([])),Object(Ne.a)({},e,{visitedMovieIds:[]});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case vt:return Object(Ne.a)({},va,{isFetching:!0});case ht:return Object(Ne.a)({},e,{isFetched:!1,isFetching:!1});case gt:return Object(Ne.a)({},e,{id:n.id,isFetched:!0,isFetching:!1});case Et:case ft:case bt:return Object(Ne.a)({},e,{similarMovies:pa("SIMILAR_MOVIES",e.similarMovies,t)});case yt:case Ot:case Mt:return Object(Ne.a)({},e,{recommendedMovies:pa("RECOMMENDED_MOVIES",e.recommendedMovies,t)});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(t.payload,a){case me:case ue:case de:return Object(Ne.a)({},e,{popularMovies:pa("POPULAR_MOVIES",e.popularMovies,t)});case pe:case ve:case ge:return Object(Ne.a)({},e,{topRatedMovies:pa("TOP_RATED_MOVIES",e.topRatedMovies,t)});case he:case Ee:case fe:return Object(Ne.a)({},e,{upcomingMovies:pa("UPCOMING_MOVIES",e.upcomingMovies,t)});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ea.b:return fa;case tt:return Object(Ne.a)({},e,{query:n.query});case Ye:return Object(Ne.a)({},e,{isFetching:!0,isFetched:!1,foundMovies:[]});case Xe:var r=n.results.map((function(e){return Ie({raw:e,posterSize:"w154"})}));return r=function(e){return e.filter((function(e){return!!e.title&&e.popularity>.25}))}(r).sort((function(e,t){return t.popularity-e.popularity})),Object(Ne.a)({},e,{isFetching:!1,isFetched:!0,foundMovies:r});case $e:case et:return Object(Ne.a)({},e,{isFetching:!1,isFetched:!1,foundMovies:[]});default:return e}},entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case _:var r={},i=!0,o=!1,c=void 0;try{for(var s,l=n.genres[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var m=s.value;r[m.id]=m.name}}catch(O){o=!0,c=O}finally{try{i||null==l.return||l.return()}finally{if(o)throw c}}return Object(Ne.a)({},e,{genresById:r});case ue:case ve:case Ee:case ft:case Ot:var u=Object(Ne.a)({},e.moviesById),d=!0,p=!1,v=void 0;try{for(var g,h=n.results[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var E=g.value,f=Ie({raw:E,extended:!1});u[E.id]&&u[E.id].isExtendedDataLoaded?u[E.id]=Object(Ne.a)({},u[E.id],{},f):u[E.id]=f,u[E.id].fetchDate=new Date}}catch(O){p=!0,v=O}finally{try{d||null==h.return||h.return()}finally{if(p)throw v}}return Object(Ne.a)({},e,{moviesById:u});case gt:case Bt:var b=Ie({raw:n,extended:!0}),y=Object(Ne.a)({},e.moviesById);return y[b.id]=b,y[b.id].fetchDate=new Date,Object(Ne.a)({},e,{moviesById:y});default:return e}},router:Object(aa.b)(ba)}),Oa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||na.d,Ma=Object(na.e)(ya,Oa(Object(na.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return function(a){return function(n){var r,i,o,c,s,l,m,u,d,g,h;return p.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(r=n.type,i=n.payload,(o=n.meta)&&o.target===y){b.next=3;break}return b.abrupt("return",a(n));case 3:if(o.handlers&&Object.keys(o.handlers).length){b.next=5;break}return b.abrupt("return",console.error("action must contain non empty 'meta' object with at least one handler",n));case 5:if(c=o.url,s=o.method,l=o.params,m=o.handlers,u=o.task||{isCancelled:!1,isDone:!1,isDummy:!0},d=function(e){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(t=console).log.apply(t,["%c[".concat(O,"]"),"font-weight: bold","[".concat(r,"]").concat(u.isDummy?"":" [".concat(u.id,"]"),": ").concat(e)].concat(n))},g=v.CancelToken.source(),!u.isDummy&&u.subscribe(f.events.CANCEL,(function(){g.cancel(),e&&d("Action has been canceled"),m.cancel&&E(m.cancel,null,t.dispatch)})),!u.isCancelled&&m.request&&(e&&d("Request handling",o,i),E(m.request,null,t.dispatch)),b.prev=11,"get"!==s.toLowerCase()){b.next=18;break}return b.next=15,p.a.awrap(M(c,l,g));case 15:h=b.sent,b.next=20;break;case 18:return console.error("Unknown request method: "+s,n),b.abrupt("return",a(n));case 20:m.success&&!u.isCancelled&&(e&&d("Success handling"),E(m.success,h.data,t.dispatch)),b.next=26;break;case 23:b.prev=23,b.t0=b.catch(11),u.isCancelled||(e&&d("Fail handling",b.t0),m.fail?E(m.fail,{error:b.t0},t.dispatch):console.error("Uncaught exception in ".concat(O,": "),b.t0));case 26:return b.prev=26,u.isDummy||u.isCancelled||u.done(),b.finish(26);case 29:case"end":return b.stop()}}),null,null,[[11,23,26,29]])}}}}(),Object(ia.a)(ba))));o.a.render(r.a.createElement(s.a,{store:Ma},r.a.createElement(aa.a,{history:ba},r.a.createElement(ta,null))),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.1a718fa8.chunk.js.map